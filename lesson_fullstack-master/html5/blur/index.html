<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h2>Update css skills with <span class="hl">JS</span></h2>
    <div class="contorl">
        <div class="fields">
            <label for="spacing">Spacing</label>
            <!-- for 表示label标签为input服务 
            用法：把input的id放到for里 
            作用：点击文字聚焦到输入框
            实际作用：帮助盲人 -->

            <!-- 输入控件 hetml5提供更加强大的表单类型 -->
            <input type="range" min="0" max="200" id="spacing" name="spacing" value="150" data-sizing="px">
            <span id="spacing__res">150px</span>
        </div>

        <div class="fields">
            <label for="blur">Blur</label>
            <!-- for 表示label标签为input服务 
            用法：把input的id放到for里 
            作用：点击文字聚焦到输入框
            实际作用：帮助盲人 -->

            <!-- 输入控件 hetml5提供更加强大的表单类型 -->
            <input type="range" min="0" max="25" id="blur" name="blur" value="10" data-num="120" data-sizing="px">
            <span id="blur__res">15px</span>
        </div>

        <div class="fields">
            <label for="color">Base Color</label>
            <!-- for 表示label标签为input服务 
            用法：把input的id放到for里 
            作用：点击文字聚焦到输入框
            实际作用：帮助盲人 -->

            <!-- 输入控件 hetml5提供更加强大的表单类型 -->
            <input type="color" id="color" name="blur" value="#ffc600">
            <span id="color__res">#ffc600</span>
        </div>

    </div>

    <script>
        // 抽象能力 一旦写代码在复制 stop, don't repeat yourself
        // Dry原则
        const inputs = document.querySelectorAll('.fields input');
        // console.log(inputs);
        // 数组不能添加事件监听
        // inputs.addEventListener('change', function() {})
        inputs.forEach(function (input) {
            console.log(input);
            input.addEventListener('change', function (event) {
                // 拼接
                const res = '#' + this.id + '__res';
                // console.log(res);
                document
                    .querySelector(res)
                    // 加括号阻断优先级
                    .innerText = this.value + (this.dataset.sizing ? this.dataset.sizing : '');

            })
        })

        // const spacingInput = document.querySelector('#spacing');
        // // console.log(spacingInput);
        // const blurInput = document.querySelector('#blur');

        // spacingInput.addEventListener('change', function (event) {
        //     // console.log(event);
        //     // js 是事件驱动的语言
        //     // 函数有个指针
        //     // this js中最重要的基础
        //     // 事件处理函数中，this 指向事件发生的对象
        //     // console.log(event.target.value, this);
        //     // 实际上 event.target = this
        //     // event.target.value

        //     // 换行 提升代码的可读性，方便阅读
        //     document.querySelector('#spacing__res').innerText =
        //         this.value + this.dataset.sizing;

        // })

        // blurInput.addEventListener('change', function (event) {
        //     document.querySelector('#blur__res').innerText =
        //         this.value + this.dataset.sizing;
        // })
    </script>
</body>


</html>